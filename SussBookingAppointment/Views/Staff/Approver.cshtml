@model ApproverDOM
@inject IEncryptionService encrypt
@{
    ViewData["Title"] = "Approver Form";
}
@section Style {

}
<div class="grid-container">
    <div>
        <h2 class="text-center">Approver Page</h2>
        <div class="row">
            <div class="accordion" id="accordionPanelsStayOpenExample">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
                            Completed by User
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingOne">
                        <div class="accordion-body">
                            @await Html.PartialAsync("_Booking", Model.Form_D)
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
                            Auto Filled User Details from SIMS
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingTwo">
                        <div class="accordion-body">
                            @await Html.PartialAsync("_UserDetails", Model.Users_Detail)
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <form asp-controller="Staff" class="text-left">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            @Html.HiddenFor(x=> x.ApproverID)
            @{
                var UserID = encrypt.EncryptValue(Convert.ToString(Model.Form_D.UserID));
            }
            <input type="hidden" asp-for="@UserID" />
            <div class="row">
                <div class="form-group col-md-6 mb-5 text-center">
                    <button type="submit" id="btnsave" class="button expanded" value="Approve" name="action" asp-action="Approver">
                        Click to Approve the request
                    </button>
                </div>
                <div class="form-group col-md-6 mb-5 text-left">
                    <button type="submit" id="btnsave" class="button expanded" value="Reject" name="action" asp-action="Reject">
                        Click to Reject the request
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>

